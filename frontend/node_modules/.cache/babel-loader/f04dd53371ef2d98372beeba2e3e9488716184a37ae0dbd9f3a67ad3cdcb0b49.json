{"ast":null,"code":"import{useState}from\"react\";import CustomButton from\"../CustomButton\";import{LoginUser,SignUpForUser}from\"../../services/service\";import{useGlobalContext}from\"../../context/GlobalContext\";import{useNavigate}from\"react-router-dom\";import CustomInputFeild from\"../CustomInputFeild\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[showSignup,setShowSignup]=useState(false);const[username,setUsername]=useState(\"\");const[createUserName,setCreateUserName]=useState(\"\");const[password,setPassword]=useState(\"\");const[firstName,setFirstName]=useState(\"\");const[lastName,setLastName]=useState(\"\");const[email,setEmail]=useState(\"\");const[signUpPassword,setSignUpPassword]=useState(\"\");const{updateCustomToast}=useGlobalContext();const navigate=useNavigate();const handleSignUp=()=>{let payload={firstName:firstName,lastName:lastName,userName:createUserName,email:email,password:signUpPassword};SignUpForUser(payload).then(resp=>{if((resp===null||resp===void 0?void 0:resp.statusCode)===200){updateCustomToast(\"SUCCESS\",\"User Created Successfully\");setShowSignup(false);}else{setShowSignup(true);}});};const handleLogin=()=>{let payload={username:username,password:password};LoginUser(payload).then(resp=>{if((resp===null||resp===void 0?void 0:resp.statusCode)===200){updateCustomToast(\"SUCCESS\",\"Welcome to my BookStore\");localStorage.setItem(\"data\",resp===null||resp===void 0?void 0:resp.name);localStorage.setItem(\"token\",resp===null||resp===void 0?void 0:resp.token);navigate(\"/\");setTimeout(()=>{window.location.reload();},[1000]);}else{console.error(\"Login failed\",resp);updateCustomToast(\"ERROR\",\"Login failed. Please try again.\");}});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row h-full bg-purple-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex my-[2%] mx-[10%] w-full bg-white rounded-3xl\",children:[showSignup?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-1/2 items-center bg-white  justify-center rounded-2xl\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-bold text-indigo pb-6\",children:\"Signup\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 my-4 w-[80%] \",children:[/*#__PURE__*/_jsx(CustomInputFeild,{type:\"text\",placeholder:\"First Name\",value:firstName,onChange:e=>{setFirstName(e.target.value);}}),/*#__PURE__*/_jsx(CustomInputFeild,{type:\"text\",placeholder:\"Last Name\",value:lastName,onChange:e=>{setLastName(e.target.value);}}),/*#__PURE__*/_jsx(CustomInputFeild,{type:\"text\",placeholder:\"User Name\",value:createUserName,onChange:e=>{setCreateUserName(e.target.value);}}),/*#__PURE__*/_jsx(CustomInputFeild,{type:\"email\",placeholder:\"Email Address\",value:email,onChange:e=>{setEmail(e.target.value);}}),/*#__PURE__*/_jsx(CustomInputFeild,{type:\"password\",placeholder:\"Password\",value:signUpPassword,onChange:e=>{setSignUpPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(CustomButton,{title:\"Sign Up\",backgroundColor:\"bg-indigo\",textColor:\"text-white\",borderClass:`border-indigo`,PaddingX:\"px-40\",myOnClick:handleSignUp})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-1/2 justify-center items-center bg-white rounded-tl-3xl rounded-bl-3xl\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-bold text-indigo\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 my-4 w-[80%] \",children:[/*#__PURE__*/_jsx(CustomInputFeild,{type:\"text\",placeholder:\"Email Address or Username\",value:username,onChange:e=>{setUsername(e.target.value);}}),/*#__PURE__*/_jsx(CustomInputFeild,{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>{setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between w-[80%] px-5 text-indigo \",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer text-sm\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(CustomButton,{title:\"Submit\",backgroundColor:\"bg-indigo\",textColor:\"text-white\",borderClass:`border-indigo`,PaddingX:\"px-40\",myOnClick:handleLogin})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm mt-5\",children:[\"Dont Have an Account?\",/*#__PURE__*/_jsx(\"span\",{className:\"text-indigo cursor-pointer\",onClick:()=>setShowSignup(true),children:\"Create An Account\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 p-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[100%] bg-cover bg-center rounded-3xl\",style:{backgroundImage:\"url('/images/login.jpg')\"}})})]})});};Login.prototype={};export default Login;","map":{"version":3,"names":["useState","CustomButton","LoginUser","SignUpForUser","useGlobalContext","useNavigate","CustomInputFeild","jsx","_jsx","jsxs","_jsxs","Login","showSignup","setShowSignup","username","setUsername","createUserName","setCreateUserName","password","setPassword","firstName","setFirstName","lastName","setLastName","email","setEmail","signUpPassword","setSignUpPassword","updateCustomToast","navigate","handleSignUp","payload","userName","then","resp","statusCode","handleLogin","localStorage","setItem","name","token","setTimeout","window","location","reload","console","error","className","children","type","placeholder","value","onChange","e","target","title","backgroundColor","textColor","borderClass","PaddingX","myOnClick","onClick","style","backgroundImage","prototype"],"sources":["/Users/adishbhat/Documents/Projects/BookStore/frontend/src/components/Login/loginPage.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport CustomButton from \"../CustomButton\";\nimport { LoginUser, SignUpForUser } from \"../../services/service\";\nimport { useGlobalContext } from \"../../context/GlobalContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport CustomInputFeild from \"../CustomInputFeild\";\n\nconst Login = () => {\n  const [showSignup, setShowSignup] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [createUserName, setCreateUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [signUpPassword, setSignUpPassword] = useState(\"\");\n  const { updateCustomToast } = useGlobalContext();\n  const navigate = useNavigate();\n \n  const handleSignUp = () => {\n    let payload = {\n      firstName: firstName,\n      lastName: lastName,\n      userName: createUserName,\n      email: email,\n      password: signUpPassword,\n    };\n\n    SignUpForUser(payload).then((resp) => {\n      if (resp?.statusCode === 200) {\n        updateCustomToast(\"SUCCESS\", \"User Created Successfully\");\n        setShowSignup(false);\n      } else {\n        setShowSignup(true);\n      }\n    });\n  };\n\n  const handleLogin = () => {\n    let payload = {\n      username: username,\n      password: password,\n    };\n    LoginUser(payload).then((resp) => {\n      if (resp?.statusCode === 200) {\n        updateCustomToast(\"SUCCESS\", \"Welcome to my BookStore\");\n        localStorage.setItem(\"data\", resp?.name);\n        localStorage.setItem(\"token\", resp?.token);\n        navigate(\"/\");\n        setTimeout(() => {\n          window.location.reload();\n        }, [1000]);\n      } else {\n        console.error(\"Login failed\", resp);\n        updateCustomToast(\"ERROR\", \"Login failed. Please try again.\");\n      }\n    });\n  };\n\n  return (\n    <div className=\"flex flex-row h-full bg-purple-600\">\n      <div className=\"flex my-[2%] mx-[10%] w-full bg-white rounded-3xl\">\n        {showSignup ? (\n          <div className=\"flex flex-col w-1/2 items-center bg-white  justify-center rounded-2xl\">\n            <span className=\"text-4xl font-bold text-indigo pb-6\">Signup</span>\n            <div className=\"flex flex-col gap-5 my-4 w-[80%] \">\n              <CustomInputFeild\n                type=\"text\"\n                placeholder=\"First Name\"\n                value={firstName}\n                onChange={(e) => {\n                  setFirstName(e.target.value);\n                }}\n              />\n              <CustomInputFeild\n                type=\"text\"\n                placeholder=\"Last Name\"\n                value={lastName}\n                onChange={(e) => {\n                  setLastName(e.target.value);\n                }}\n              />\n              <CustomInputFeild\n                type=\"text\"\n                placeholder=\"User Name\"\n                value={createUserName}\n                onChange={(e) => {\n                  setCreateUserName(e.target.value);\n                }}\n              />\n              <CustomInputFeild\n                type=\"email\"\n                placeholder=\"Email Address\"\n                value={email}\n                onChange={(e) => {\n                  setEmail(e.target.value);\n                }}\n              />\n              <CustomInputFeild\n                type=\"password\"\n                placeholder=\"Password\"\n                value={signUpPassword}\n                onChange={(e) => {\n                  setSignUpPassword(e.target.value);\n                }}\n              />\n            </div>\n            <div className=\"mt-5\">\n              <CustomButton\n                title=\"Sign Up\"\n                backgroundColor=\"bg-indigo\"\n                textColor=\"text-white\"\n                borderClass={`border-indigo`}\n                PaddingX=\"px-40\"\n                myOnClick={handleSignUp}\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"flex flex-col w-1/2 justify-center items-center bg-white rounded-tl-3xl rounded-bl-3xl\">\n            <span className=\"text-4xl font-bold text-indigo\">Login</span>\n            <div className=\"flex flex-col gap-5 my-4 w-[80%] \">\n              <CustomInputFeild\n                type=\"text\"\n                placeholder=\"Email Address or Username\"\n                value={username}\n                onChange={(e) => {\n                  setUsername(e.target.value);\n                }}\n              />\n              <CustomInputFeild\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                }}\n              />\n            </div>\n            <div className=\"flex flex-row justify-between w-[80%] px-5 text-indigo \">\n              <div></div>\n              <div className=\"cursor-pointer text-sm\">Forgot Password?</div>\n            </div>\n            <div className=\"mt-5\">\n              <CustomButton\n                title=\"Submit\"\n                backgroundColor=\"bg-indigo\"\n                textColor=\"text-white\"\n                borderClass={`border-indigo`}\n                PaddingX=\"px-40\"\n                myOnClick={handleLogin}\n              />\n            </div>\n            <div className=\"text-sm mt-5\">\n              Dont Have an Account?\n              <span\n                className=\"text-indigo cursor-pointer\"\n                onClick={() => setShowSignup(true)}\n              >\n                Create An Account\n              </span>\n            </div>\n          </div>\n        )}\n\n        <div className=\"w-1/2 p-1\">\n          <div\n            className=\"w-full h-[100%] bg-cover bg-center rounded-3xl\"\n            style={{ backgroundImage: \"url('/images/login.jpg')\" }}\n          ></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nLogin.prototype = {};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}