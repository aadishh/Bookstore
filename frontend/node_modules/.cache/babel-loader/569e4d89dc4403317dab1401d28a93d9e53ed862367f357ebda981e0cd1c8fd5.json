{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import CustomImage from\"../CustomImage\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DropdownSingleSelect=_ref=>{let{data,onClick,placeHolder,disabled,editable=true,handleChange,value,isEdit}=_ref;const[isOpen,setIsOpen]=useState(false);const[selectedItem,setSelectedItem]=useState(value);const dropdownRef=useRef();const[disable,setDisable]=useState(editable);const handleToggle=()=>!disable&&setIsOpen(!isOpen);const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};useEffect(()=>{setSelectedItem(value);},[value]);useEffect(()=>{document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:isEdit?/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mx-5 \",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg gap-3 px-4 flex flex-row items-center justify-between  ${disable?\"bg-gray-100 border border-gray-200\":\"bg-white\"} `,children:[/*#__PURE__*/_jsx(\"div\",{className:`gap-2 px-2 py-4 w-full items-center flex justify-between flex-row cursor-pointer \n                disable ? \"shadow-sm\" : \"\"\n                `,onClick:handleToggle,children:selectedItem||placeHolder}),disable?/*#__PURE__*/_jsx(\"div\",{className:`flex ${disable?\"cursor-pointer hover:bg-white \":\"hover:bg-gray-100 cursor-pointer \"}  p-3 rounded-full`,onClick:()=>setDisable(false),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3\",children:/*#__PURE__*/_jsx(CustomImage,{name:\"editButton\"})})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),isOpen&&!disable&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute botttom-0 shadow z-10 bg-white rounded-lg w-full  max-h-[150px] overflow-y-auto\",children:data.map((item,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsOpen(false);setSelectedItem(item);onClick(item);},onChange:handleChange,className:\"block pl-4 py-2 text-left text-sm hover:bg-gray-100 w-full\",children:item},index))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:`gap-2 px-2 mx-5 py-4 ${disabled?\"bg-[#EFEFEF]\":\"bg-white\"}  rounded-lg items-center flex justify-between flex-row cursor-pointer`,onClick:handleToggle,children:[selectedItem||placeHolder,/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),isOpen&&!disable&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute mt-2 shadow z-10 bg-white rounded-lg w-full\",children:data.map((item,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsOpen(false);setSelectedItem(item);onClick(item);},onChange:handleChange,className:\"block px-4 py-2 text-left text-sm hover:bg-gray-100 w-full\",children:item},index))})]})});};export default DropdownSingleSelect;","map":{"version":3,"names":["useEffect","useRef","useState","CustomImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DropdownSingleSelect","_ref","data","onClick","placeHolder","disabled","editable","handleChange","value","isEdit","isOpen","setIsOpen","selectedItem","setSelectedItem","dropdownRef","disable","setDisable","handleToggle","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","children","className","ref","name","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","item","index","onChange"],"sources":["/Users/adishbhat/Documents/Projects/BookStore/frontend/src/components/Dropdowns/DropdownSingleSelect.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport CustomImage from \"../CustomImage\";\n\nconst DropdownSingleSelect = ({\n  data,\n  onClick,\n  placeHolder,\n  disabled,\n  editable = true,\n  handleChange,\n  value,\n  isEdit,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(value);\n  const dropdownRef = useRef();\n  const [disable, setDisable] = useState(editable);\n\n  const handleToggle = () => !disable && setIsOpen(!isOpen);\n\n  const handleClickOutside = (event) => {\n    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n      setIsOpen(false);\n    }\n  };\n  useEffect(() => {\n    setSelectedItem(value);\n  }, [value]);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  return (\n    <>\n      {isEdit ? (\n        <div className=\"relative w-full mx-5 \" ref={dropdownRef}>\n          <div\n            className={`rounded-lg gap-3 px-4 flex flex-row items-center justify-between  ${\n              disable ? \"bg-gray-100 border border-gray-200\" : \"bg-white\"\n            } `}\n          >\n            <div\n              className={`gap-2 px-2 py-4 w-full items-center flex justify-between flex-row cursor-pointer \n                disable ? \"shadow-sm\" : \"\"\n                `}\n              onClick={handleToggle}\n            >\n              {selectedItem || placeHolder}\n            </div>\n            {disable ? (\n              <div\n                className={`flex ${\n                  disable\n                    ? \"cursor-pointer hover:bg-white \"\n                    : \"hover:bg-gray-100 cursor-pointer \"\n                }  p-3 rounded-full`}\n                onClick={() => setDisable(false)}\n              >\n                <div className=\"w-3 h-3\">\n                  <CustomImage name=\"editButton\" />\n                </div>\n              </div>\n            ) : (\n              <svg\n                className=\"w-4 h-4 text-gray-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M19 9l-7 7-7-7\"\n                />\n              </svg>\n            )}\n          </div>\n          {isOpen && !disable && (\n            <div className=\"absolute botttom-0 shadow z-10 bg-white rounded-lg w-full  max-h-[150px] overflow-y-auto\">\n              {data.map((item, index) => (\n                <button\n                  key={index}\n                  onClick={() => {\n                    setIsOpen(false);\n                    setSelectedItem(item);\n                    onClick(item);\n                  }}\n                  onChange={handleChange}\n                  className=\"block pl-4 py-2 text-left text-sm hover:bg-gray-100 w-full\"\n                >\n                  {item}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"relative w-full\" ref={dropdownRef}>\n          <div\n            className={`gap-2 px-2 mx-5 py-4 ${\n              disabled ? \"bg-[#EFEFEF]\" : \"bg-white\"\n            }  rounded-lg items-center flex justify-between flex-row cursor-pointer`}\n            onClick={handleToggle}\n          >\n            {selectedItem || placeHolder}\n\n            <svg\n              className=\"w-4 h-4 text-gray-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M19 9l-7 7-7-7\"\n              />\n            </svg>\n          </div>\n\n          {isOpen && !disable && (\n            <div className=\"absolute mt-2 shadow z-10 bg-white rounded-lg w-full\">\n              {data.map((item, index) => (\n                <button\n                  key={index}\n                  onClick={() => {\n                    setIsOpen(false);\n                    setSelectedItem(item);\n                    onClick(item);\n                  }}\n                  onChange={handleChange}\n                  className=\"block px-4 py-2 text-left text-sm hover:bg-gray-100 w-full\"\n                >\n                  {item}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nDropdownSingleSelect.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.any).isRequired,\n  onClick: PropTypes.func.isRequired,\n  handleChange: PropTypes.func,\n  placeHolder: PropTypes.string,\n  disabled: PropTypes.bool,\n  value: PropTypes.string,\n  isEdit: PropTypes.bool,\n  editable: PropTypes.bool,\n};\n\nexport default DropdownSingleSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}